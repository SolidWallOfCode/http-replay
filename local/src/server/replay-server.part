Import("*")
PartName("replay-server")

env.DependsOn([
    Component("openssl"),
    Component("swoc++"),
    Component("yaml-cpp"),
    Component("http-replay.core"),
])

env.AppendUnique(
    CCFLAGS=['-std=c++17', '-g'],
)

env.InstallBin(
    env.SetRPath(  # allow fancy patchelf runpath setting it defined
        env.Program("replay-server", ["replay-server.cc"])
    )
)
